{"ast":null,"code":"var _jsxFileName = \"H:\\\\js_projects\\\\1\\\\my-app\\\\src\\\\components\\\\Dialogs\\\\Message\\\\MessagesContainer.tsx\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withRouter } from 'react-router-dom';\nimport { GetIsFetchingDialogs, GetDialogsMessagesSelector, GetinterlocutorAvatarSelector, GetUserAvatarSelector } from \"../../../data/DialogsSelectors\";\nimport MessagesWithUser from \"./MessagesWithUser\";\nimport { AuthRedirect } from \"../../hocs/AuthRedirect\";\nimport { SendNewMessageThunk, GetNewMessagesThunk, GetInterlocutorAvatarThunk, setUserAvatarForDialogs, GetProfileAvatarThunk, DeleteMessageThunk, GetNewMessagesCountThunk } from \"../../../data/DIalogsReduser\";\nimport { GetUserIDSelector } from \"../../../data/AuthSelectors\";\nimport { GetNewMessagesCountSelector } from \"../../../data/InitialozationSelectors\";\nimport Preloader from \"../../assetss/common/Loader/Loader\";\ndebugger;\n\nclass MessagesContainer extends React.Component {\n  componentDidMount() {\n    const DialogUserID = this.props.match.params.userID;\n    this.props.GetNewMessagesThunk(DialogUserID);\n    this.props.GetInterlocutorAvatarThunk(DialogUserID);\n    this.props.GetProfileAvatarThunk(this.props.MyID);\n\n    if (this.props.NewMessagesCount > 0) {\n      this.props.GetNewMessagesCountThunk();\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.props.IsFetching ? React.createElement(Preloader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }) : React.createElement(MessagesWithUser, {\n      InterlocutorAvatar: this.props.InterlocutorAvatar,\n      UserAvatar: this.props.UserAvatar,\n      MyID: this.props.MyID,\n      DialogsMessages: this.props.DialogsMessages,\n      DialoguserID: this.props.match.params.userID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }));\n  }\n\n}\n\nlet StateToProps = state => ({\n  DialogsMessages: GetDialogsMessagesSelector(state),\n  InterlocutorAvatar: GetinterlocutorAvatarSelector(state),\n  UserAvatar: GetUserAvatarSelector(state),\n  MyID: GetUserIDSelector(state),\n  NewMessagesCount: GetNewMessagesCountSelector(state),\n  IsFetching: GetIsFetchingDialogs(state)\n});\n\nexport default compose(connect(StateToProps, {\n  GetNewMessagesThunk,\n  SendNewMessageThunk,\n  GetInterlocutorAvatarThunk,\n  setUserAvatarForDialogs,\n  GetProfileAvatarThunk,\n  DeleteMessageThunk,\n  GetNewMessagesCountThunk\n}), AuthRedirect, withRouter)(MessagesContainer);","map":{"version":3,"sources":["H:\\js_projects\\1\\my-app\\src\\components\\Dialogs\\Message\\MessagesContainer.tsx"],"names":["React","connect","compose","withRouter","GetIsFetchingDialogs","GetDialogsMessagesSelector","GetinterlocutorAvatarSelector","GetUserAvatarSelector","MessagesWithUser","AuthRedirect","SendNewMessageThunk","GetNewMessagesThunk","GetInterlocutorAvatarThunk","setUserAvatarForDialogs","GetProfileAvatarThunk","DeleteMessageThunk","GetNewMessagesCountThunk","GetUserIDSelector","GetNewMessagesCountSelector","Preloader","MessagesContainer","Component","componentDidMount","DialogUserID","props","match","params","userID","MyID","NewMessagesCount","render","IsFetching","InterlocutorAvatar","UserAvatar","DialogsMessages","StateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,OAAR,QAAsB,OAAtB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SACIC,oBADJ,EAC0BC,0BAD1B,EAEIC,6BAFJ,EAEmCC,qBAFnC,QAGO,gCAHP;AAIA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAAQC,YAAR,QAA2B,yBAA3B;AACA,SACIC,mBADJ,EAEIC,mBAFJ,EAGIC,0BAHJ,EAIIC,uBAJJ,EAKIC,qBALJ,EAMIC,kBANJ,EAOIC,wBAPJ,QAQO,8BARP;AASA,SAAQC,iBAAR,QAAgC,6BAAhC;AACA,SAAQC,2BAAR,QAA0C,uCAA1C;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AA+BA;;AACA,MAAMC,iBAAN,SAAgCpB,KAAK,CAACqB,SAAtC,CAAyE;AAErEC,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,YAAY,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,MAA7C;AACA,SAAKH,KAAL,CAAWb,mBAAX,CAA+BY,YAA/B;AACA,SAAKC,KAAL,CAAWZ,0BAAX,CAAsCW,YAAtC;AACA,SAAKC,KAAL,CAAWV,qBAAX,CAAiC,KAAKU,KAAL,CAAWI,IAA5C;;AACA,QAAG,KAAKJ,KAAL,CAAWK,gBAAX,GAA8B,CAAjC,EAAmC;AAC/B,WAAKL,KAAL,CAAWR,wBAAX;AACH;AACJ;;AAGDc,EAAAA,MAAM,GAAG;AAEL,WACI,0CAEI,KAAKN,KAAL,CAAWO,UAAX,GAAwB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAxB,GACI,oBAAC,gBAAD;AAAkB,MAAA,kBAAkB,EAAE,KAAKP,KAAL,CAAWQ,kBAAjD;AACkB,MAAA,UAAU,EAAE,KAAKR,KAAL,CAAWS,UADzC;AAEkB,MAAA,IAAI,EAAE,KAAKT,KAAL,CAAWI,IAFnC;AAGkB,MAAA,eAAe,EAAE,KAAKJ,KAAL,CAAWU,eAH9C;AAIkB,MAAA,YAAY,EAAE,KAAKV,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,MAJxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHR,CADJ;AAaH;;AA5BoE;;AAgCzE,IAAIQ,YAAY,GAAIC,KAAD,KAAoC;AACnDF,EAAAA,eAAe,EAAG7B,0BAA0B,CAAC+B,KAAD,CADO;AAEnDJ,EAAAA,kBAAkB,EAAG1B,6BAA6B,CAAC8B,KAAD,CAFC;AAGnDH,EAAAA,UAAU,EAAI1B,qBAAqB,CAAC6B,KAAD,CAHgB;AAInDR,EAAAA,IAAI,EAAEX,iBAAiB,CAACmB,KAAD,CAJ4B;AAKnDP,EAAAA,gBAAgB,EAAGX,2BAA2B,CAACkB,KAAD,CALK;AAMnDL,EAAAA,UAAU,EAAG3B,oBAAoB,CAACgC,KAAD;AANkB,CAApC,CAAnB;;AASA,eAAgBlC,OAAO,CAACD,OAAO,CAACkC,YAAD,EAC3B;AACIxB,EAAAA,mBADJ;AACyBD,EAAAA,mBADzB;AAEIE,EAAAA,0BAFJ;AAEgCC,EAAAA,uBAFhC;AAGIC,EAAAA,qBAHJ;AAG0BC,EAAAA,kBAH1B;AAG6CC,EAAAA;AAH7C,CAD2B,CAAR,EAMnBP,YANmB,EAOnBN,UAPmB,CAAP,CAOAiB,iBAPA,CAAhB","sourcesContent":["import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from 'react-router-dom'\r\nimport {\r\n    GetIsFetchingDialogs, GetDialogsMessagesSelector,\r\n    GetinterlocutorAvatarSelector, GetUserAvatarSelector\r\n} from \"../../../data/DialogsSelectors\";\r\nimport MessagesWithUser from \"./MessagesWithUser\";\r\nimport {AuthRedirect} from \"../../hocs/AuthRedirect\";\r\nimport {\r\n    SendNewMessageThunk,\r\n    GetNewMessagesThunk,\r\n    GetInterlocutorAvatarThunk,\r\n    setUserAvatarForDialogs,\r\n    GetProfileAvatarThunk,\r\n    DeleteMessageThunk,\r\n    GetNewMessagesCountThunk\r\n} from \"../../../data/DIalogsReduser\"\r\nimport {GetUserIDSelector} from \"../../../data/AuthSelectors\";\r\nimport {GetNewMessagesCountSelector} from \"../../../data/InitialozationSelectors\";\r\nimport Preloader from \"../../assetss/common/Loader/Loader\";\r\nimport {TDialogMessages} from \"../../GlobalTypes/Types\";\r\n\r\ntype TMessagesContainerProps = {\r\n    DialoguserID : string | number\r\n    DialogsMessages : TDialogMessages\r\n    InterlocutorAvatar : string | null\r\n    UserAvatar : string | null\r\n    MyID: number\r\n    NewMessagesCount : number\r\n    IsFetching : boolean\r\n    match : {\r\n        params : {\r\n            userID : number\r\n        }\r\n    }\r\n    GetNewMessagesThunk : (DialogUserID : number) => void\r\n    GetInterlocutorAvatarThunk : (DialogUserID : number) => void\r\n    GetProfileAvatarThunk : (MyID : number) => void\r\n    GetNewMessagesCountThunk : () => void\r\n}\r\n\r\ntype TMSTP_messages = {\r\n    DialogsMessages : TDialogMessages\r\n    InterlocutorAvatar : string | null\r\n    UserAvatar : string | null\r\n    MyID: number\r\n    NewMessagesCount : number\r\n    IsFetching : boolean\r\n}\r\n\r\ndebugger\r\nclass MessagesContainer extends React.Component<TMessagesContainerProps> {\r\n\r\n    componentDidMount() {\r\n        const DialogUserID = this.props.match.params.userID\r\n        this.props.GetNewMessagesThunk(DialogUserID)\r\n        this.props.GetInterlocutorAvatarThunk(DialogUserID)\r\n        this.props.GetProfileAvatarThunk(this.props.MyID)\r\n        if(this.props.NewMessagesCount > 0){\r\n            this.props.GetNewMessagesCountThunk()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n            {\r\n                this.props.IsFetching ? <Preloader/> :\r\n                    <MessagesWithUser InterlocutorAvatar={this.props.InterlocutorAvatar}\r\n                                      UserAvatar={this.props.UserAvatar}\r\n                                      MyID={this.props.MyID}\r\n                                      DialogsMessages={this.props.DialogsMessages}\r\n                                      DialoguserID={this.props.match.params.userID}/>\r\n            }\r\n            </>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet StateToProps = (state : any)  : TMSTP_messages => ({\r\n    DialogsMessages : GetDialogsMessagesSelector(state),\r\n    InterlocutorAvatar : GetinterlocutorAvatarSelector(state),\r\n    UserAvatar :  GetUserAvatarSelector(state),\r\n    MyID: GetUserIDSelector(state),\r\n    NewMessagesCount : GetNewMessagesCountSelector(state),\r\n    IsFetching : GetIsFetchingDialogs(state)\r\n})\r\n\r\nexport default  compose(connect(StateToProps,\r\n    {\r\n        GetNewMessagesThunk, SendNewMessageThunk,\r\n        GetInterlocutorAvatarThunk, setUserAvatarForDialogs,\r\n        GetProfileAvatarThunk,DeleteMessageThunk,GetNewMessagesCountThunk\r\n    }),\r\n    AuthRedirect,\r\n    withRouter)(MessagesContainer)"]},"metadata":{},"sourceType":"module"}