{"ast":null,"code":"import _objectSpread from \"H:\\\\js_projects\\\\1\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"H:\\\\js_projects\\\\1\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"H:\\\\js_projects\\\\1\\\\my-app\\\\src\\\\components\\\\ToDoLists\\\\ToDoListTasks\\\\Task.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport ts from \"./Tasks.module.css\";\nimport classNames from 'classnames';\nimport DeleteButton from \"./DeleteTaskButton\";\nimport TaskDoneIcon from \"./DoneIcone\";\nimport EditTaskButton from \"./EditTaskButton\";\nimport TaskDetails from \"./TaskDetails\";\nimport NotDoneIcon from \"./NotDoneIcon\";\nimport TaskEditForm from \"./TaskEditForm\";\nimport { reduxForm } from \"redux-form\";\nimport { DateTransform } from \"../../utils/dateTransform\";\n\nconst Task = props => {\n  let _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      TaskEditMode = _useState2[0],\n      SetTaskEditMode = _useState2[1];\n\n  let _useState3 = useState({\n    completed: props.CurrentTask.completed,\n    deadline: props.CurrentTask.deadline,\n    description: props.CurrentTask.description,\n    priority: props.CurrentTask.priority,\n    startDate: props.CurrentTask.startDate,\n    status: props.CurrentTask.status,\n    title: props.CurrentTask.title\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      SetStatus = _useState4[1];\n\n  let TrueStartDate = DateTransform(props.CurrentTask.startDate);\n  let TrueDeadLine = DateTransform(props.CurrentTask.deadline);\n\n  const TrueObjMaker = (status, TrueStartDate, TrueDeadLine) => {\n    if (status && TrueStartDate && TrueDeadLine) {\n      return Object.assign(_objectSpread({}, status), {\n        startDate: TrueStartDate[2] + \"-\" + TrueStartDate[1] + \"-\" + TrueStartDate[0],\n        deadline: TrueDeadLine[2] + \"-\" + TrueDeadLine[1] + \"-\" + TrueDeadLine[0]\n      });\n    }\n  };\n\n  useEffect(() => {\n    SetStatus(props.CurrentTask);\n  }, [props.CurrentTask]);\n\n  const TaskEditModeON = () => {\n    SetTaskEditMode(true);\n  };\n\n  const TaskEditModeOFF = () => {\n    SetTaskEditMode(false);\n  };\n\n  const TaskExecutedStyleForWindow = classNames({\n    [ts.Ramka]: !props.CurrentTask.completed,\n    [ts.DoneRamka]: props.CurrentTask.completed\n  });\n\n  const SaveNewToDoListTaskInfo = formData => {\n    props.UpdateTaskInformationThunk(props.CurrentTask.todoListId, props.CurrentTask.id, formData);\n    TaskEditModeOFF();\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, !TaskEditMode ? React.createElement(\"div\", {\n    className: ts.Main,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classNames(ts.MainWrapper),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: ts.TaskEditButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(EditTaskButton, {\n    ShowButtonBlocked: props.ShowButtonBlocked,\n    ButtonSize: \"small\",\n    HandleOnClick: TaskEditModeON,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: TaskExecutedStyleForWindow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: ts.TaskBodyWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, props.CurrentTask.completed ? React.createElement(\"div\", {\n    className: ts.iconStatus,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(TaskDoneIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    className: ts.iconStatus,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(NotDoneIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: ts.Title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, props.CurrentTask.title), React.createElement(\"div\", {\n    className: ts.ToTrashIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(DeleteButton, {\n    DeleteTaskThunk: props.DeleteTaskThunk,\n    ShowButtonBlocked: props.ShowButtonBlocked,\n    ListID: props.CurrentTask.todoListId,\n    TaskID: props.CurrentTask.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(TaskDetails, {\n    ShowButtonBlocked: props.ShowButtonBlocked,\n    CurrentTask: props.CurrentTask,\n    ShowButtonBlockedON: props.ShowButtonBlockedON,\n    ShowButtonBlockedOFF: props.ShowButtonBlockedOFF,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }))))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(TaskEditFormRedux, {\n    initialValues: TrueStartDate && TrueDeadLine ? TrueObjMaker(status, TrueStartDate, TrueDeadLine) : status,\n    TaskEditModeOFF: TaskEditModeOFF,\n    ListID: props.CurrentTask.todoListId,\n    TaskID: props.CurrentTask.id //@ts-ignore\n    ,\n    onSubmit: SaveNewToDoListTaskInfo,\n    TaskExecutedStyleForWindow: TaskExecutedStyleForWindow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })));\n};\n\nconst TaskEditFormRedux = reduxForm({\n  form: 'TaskEditorForm'\n})(TaskEditForm);\nexport default Task;","map":{"version":3,"sources":["H:\\js_projects\\1\\my-app\\src\\components\\ToDoLists\\ToDoListTasks\\Task.tsx"],"names":["React","useState","useEffect","ts","classNames","DeleteButton","TaskDoneIcon","EditTaskButton","TaskDetails","NotDoneIcon","TaskEditForm","reduxForm","DateTransform","Task","props","TaskEditMode","SetTaskEditMode","completed","CurrentTask","deadline","description","priority","startDate","status","title","SetStatus","TrueStartDate","TrueDeadLine","TrueObjMaker","Object","assign","TaskEditModeON","TaskEditModeOFF","TaskExecutedStyleForWindow","Ramka","DoneRamka","SaveNewToDoListTaskInfo","formData","UpdateTaskInformationThunk","todoListId","id","Main","MainWrapper","TaskEditButton","ShowButtonBlocked","TaskBodyWrapper","iconStatus","Title","ToTrashIcon","DeleteTaskThunk","ShowButtonBlockedON","ShowButtonBlockedOFF","TaskEditFormRedux","form"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from \"react\"\r\nimport ts from \"./Tasks.module.css\"\r\nimport classNames from 'classnames';\r\nimport DeleteButton from \"./DeleteTaskButton\";\r\nimport TaskDoneIcon from \"./DoneIcone\";\r\nimport EditTaskButton from \"./EditTaskButton\";\r\nimport TaskDetails from \"./TaskDetails\";\r\nimport NotDoneIcon from \"./NotDoneIcon\";\r\nimport TaskEditForm from \"./TaskEditForm\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {DateTransform} from \"../../utils/dateTransform\";\r\nimport {ToDoListTaskStatusType, TTaskProps} from \"../../GlobalTypes/ToDoListsTypes/ToDoListsTypes\";\r\n\r\n\r\nconst Task : React.FC<TTaskProps> = (props) => {\r\n\r\n    let [TaskEditMode, SetTaskEditMode] = useState(false)\r\n    let [status, SetStatus] = useState<ToDoListTaskStatusType>({\r\n        completed : props.CurrentTask.completed,\r\n        deadline : props.CurrentTask.deadline,\r\n        description : props.CurrentTask.description,\r\n        priority : props.CurrentTask.priority,\r\n        startDate : props.CurrentTask.startDate,\r\n        status : props.CurrentTask.status,\r\n        title : props.CurrentTask.title\r\n    })\r\n\r\n    let TrueStartDate = DateTransform(props.CurrentTask.startDate)\r\n    let TrueDeadLine = DateTransform(props.CurrentTask.deadline)\r\n\r\nconst TrueObjMaker=(status : object,TrueStartDate : Array<string>,TrueDeadLine :  Array<string>)=>{\r\n        if (status && TrueStartDate && TrueDeadLine  )\r\n        {\r\n            return Object.assign({...status},{ startDate:TrueStartDate[2]+\"-\"+TrueStartDate[1]+\"-\"+TrueStartDate[0],\r\n                deadline :TrueDeadLine[2]+\"-\"+TrueDeadLine[1]+\"-\"+TrueDeadLine[0] })\r\n\r\n        }\r\n}\r\n\r\n\r\n    useEffect(() => {\r\n        SetStatus(props.CurrentTask)\r\n        }, [props.CurrentTask]\r\n    )\r\n\r\n\r\n\r\n    const TaskEditModeON = () => {\r\n        SetTaskEditMode(true)\r\n    }\r\n    const TaskEditModeOFF = () => {\r\n        SetTaskEditMode(false)\r\n    }\r\n    const TaskExecutedStyleForWindow = classNames({\r\n        [ts.Ramka] : !props.CurrentTask.completed,\r\n        [ts.DoneRamka] : props.CurrentTask.completed\r\n    })\r\n\r\n    const SaveNewToDoListTaskInfo= (formData : ToDoListTaskStatusType)=>{\r\n        props.UpdateTaskInformationThunk(props.CurrentTask.todoListId,props.CurrentTask.id,formData)\r\n        TaskEditModeOFF()\r\n    }\r\n\r\n    return <div>\r\n        {\r\n\r\n            !TaskEditMode ?\r\n            <div  className={ts.Main}>\r\n\r\n                <div className={classNames(ts.MainWrapper)}>\r\n\r\n                    <div className={ts.TaskEditButton}>\r\n                        <EditTaskButton ShowButtonBlocked={props.ShowButtonBlocked} ButtonSize={\"small\"} HandleOnClick={TaskEditModeON}/>\r\n                    </div>\r\n\r\n                    <div className={TaskExecutedStyleForWindow}>\r\n                        <div className={ts.TaskBodyWrapper}>\r\n                            {props.CurrentTask.completed ?\r\n                                <div className={ts.iconStatus}>\r\n                                    <TaskDoneIcon/>\r\n                                </div>\r\n                                :\r\n                                <div className={ts.iconStatus}>\r\n                                    <NotDoneIcon/>\r\n                                </div>\r\n                            }\r\n\r\n\r\n                            <div className={ts.Title}>\r\n                                {props.CurrentTask.title}\r\n                            </div>\r\n\r\n\r\n                            <div className={ts.ToTrashIcon}>\r\n                                <DeleteButton DeleteTaskThunk={props.DeleteTaskThunk}\r\n                                              ShowButtonBlocked={props.ShowButtonBlocked}\r\n                                              ListID={props.CurrentTask.todoListId} TaskID={props.CurrentTask.id}/>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div>\r\n                            <TaskDetails\r\n                                ShowButtonBlocked={props.ShowButtonBlocked}\r\n                                CurrentTask={props.CurrentTask}\r\n                                ShowButtonBlockedON={props.ShowButtonBlockedON}\r\n                                ShowButtonBlockedOFF={props.ShowButtonBlockedOFF}\r\n                            />\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n                :\r\n                <div>\r\n                    <TaskEditFormRedux\r\n                                    initialValues={TrueStartDate && TrueDeadLine\r\n                                           ? TrueObjMaker(status,TrueStartDate,TrueDeadLine)\r\n                                           : status\r\n                                       }\r\n                                       TaskEditModeOFF={TaskEditModeOFF}\r\n                                       ListID={props.CurrentTask.todoListId}\r\n                                       TaskID={props.CurrentTask.id}\r\n                                    //@ts-ignore\r\n                                       onSubmit={SaveNewToDoListTaskInfo}\r\n                                       TaskExecutedStyleForWindow={TaskExecutedStyleForWindow}\r\n                    />\r\n                </div>\r\n        }\r\n\r\n    </div>\r\n}\r\nconst TaskEditFormRedux = reduxForm({form: 'TaskEditorForm'})(TaskEditForm)\r\n\r\nexport default Task"]},"metadata":{},"sourceType":"module"}