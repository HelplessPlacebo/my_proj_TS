{"ast":null,"code":"var _jsxFileName = \"H:\\\\js_projects\\\\1\\\\my-app\\\\src\\\\components\\\\Users\\\\UsersContainer.jsx\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { OnFollow, setUsers, onUnFollow, SetCurrentPage, SetTotalCountOfUsers, ToggleIsFetching, ToggleInProcess } from \"../../data/UsersReduser\";\nimport PurifyUsers from \"./Users\";\nimport Preloader from \"../assetss/common/Loader/Loader\";\nimport { API } from \"../../API/requests\";\n\nclass UsersAPItoServer extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.OnChangedPage = pageNumber => {\n      this.props.SetCurrentPage(pageNumber);\n      this.props.ToggleIsFetching(true);\n      API.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\n        this.props.ToggleIsFetching(false);\n        this.props.setUsers(data.items);\n      });\n    };\n  }\n\n  /* this component using for make requests on server for a new users and drawing\r\n  Ui component (Users)*/\n  componentDidMount() {\n    // это что-то типо конструктора, принято все вещи, которые нарушают идею чистых функцию писать тут\n    this.props.ToggleIsFetching(true);\n    API.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\n      this.props.ToggleIsFetching(false);\n      this.props.setUsers(data.items);\n      this.props.SetTotalCountOfUsers(data.totalCount);\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.props.IsFetching ? React.createElement(Preloader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }) : null, React.createElement(PurifyUsers, {\n      Users: this.props.Users,\n      totalUsersCount: this.props.totalUsersCount,\n      pageSize: this.props.pageSize,\n      OnChangedPage: this.OnChangedPage,\n      onFollow: this.props.OnFollow,\n      onUnFollow: this.props.onUnFollow,\n      currentPage: this.props.currentPage,\n      ToggleInProcess: this.props.ToggleInProcess,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }));\n  }\n\n}\n\nlet StateToProps = state => {\n  return {\n    Users: state.UsersData.Users,\n    pageSize: state.UsersData.pageSize,\n    totalUsersCount: state.UsersData.totalUsersCount,\n    currentPage: state.UsersData.currentPage,\n    IsFetching: state.UsersData.IsFetching,\n    InProcess: state.UsersData.InProcess\n  };\n};\n/*let DispatchToProps = (dispatch) => {\r\n    return {\r\n        onFollow: (userID) => {\r\n\r\n            dispatch(follow_AC(userID))\r\n        },\r\n        onUnFollow: (userID) => {\r\n\r\n            dispatch(unfollow_AC(userID))\r\n        },\r\n        setUsers: (Users) => {\r\n            dispatch(setUsers_AC(Users))\r\n        },\r\n        SetCurrentPage: (NumberOfPage) => {\r\n            dispatch(setCurrentPage_AC(NumberOfPage))\r\n        },\r\n        SetTotalCountOfUsers: (totalCount) => {\r\n            dispatch(SetTotalCountOfUsers_AC(totalCount))\r\n        },\r\n        ToggleIsFetching: (IsFetching) => {\r\n            dispatch(IsFetchingToggle_AC(IsFetching))\r\n        }\r\n    }\r\n}*/\n\n\nconst UsersContainer = connect(StateToProps, {\n  OnFollow,\n  onUnFollow,\n  setUsers,\n  SetCurrentPage,\n  SetTotalCountOfUsers,\n  ToggleIsFetching,\n  ToggleInProcess\n})(UsersAPItoServer);\nexport default UsersContainer;","map":{"version":3,"sources":["H:\\js_projects\\1\\my-app\\src\\components\\Users\\UsersContainer.jsx"],"names":["React","connect","OnFollow","setUsers","onUnFollow","SetCurrentPage","SetTotalCountOfUsers","ToggleIsFetching","ToggleInProcess","PurifyUsers","Preloader","API","UsersAPItoServer","Component","OnChangedPage","pageNumber","props","getUsers","currentPage","pageSize","then","data","items","componentDidMount","totalCount","render","IsFetching","Users","totalUsersCount","StateToProps","state","UsersData","InProcess","UsersContainer"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    OnFollow,\r\n    setUsers,\r\n    onUnFollow,\r\n    SetCurrentPage,\r\n    SetTotalCountOfUsers,\r\n    ToggleIsFetching,\r\n    ToggleInProcess\r\n} from \"../../data/UsersReduser\";\r\nimport PurifyUsers from \"./Users\";\r\nimport Preloader from \"../assetss/common/Loader/Loader\";\r\nimport {API} from \"../../API/requests\"\r\n\r\nclass UsersAPItoServer extends React.Component {\r\n    /* this component using for make requests on server for a new users and drawing\r\nUi component (Users)*/\r\n\r\n    componentDidMount() {\r\n        // это что-то типо конструктора, принято все вещи, которые нарушают идею чистых функцию писать тут\r\n        this.props.ToggleIsFetching(true)\r\n        API.getUsers(this.props.currentPage,this.props.pageSize).then(data => {\r\n                this.props.ToggleIsFetching(false)\r\n                this.props.setUsers(data.items)\r\n                this.props.SetTotalCountOfUsers(data.totalCount)\r\n            })\r\n\r\n    }\r\n\r\n    OnChangedPage = (pageNumber) => {\r\n        this.props.SetCurrentPage(pageNumber)\r\n        this.props.ToggleIsFetching(true)\r\n        API.getUsers(this.props.currentPage,this.props.pageSize)\r\n            .then(data => {\r\n                this.props.ToggleIsFetching(false)\r\n                this.props.setUsers(data.items)\r\n\r\n            })\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.IsFetching ? <Preloader/> :null}\r\n        <PurifyUsers Users={this.props.Users}\r\n                            totalUsersCount={this.props.totalUsersCount}\r\n                            pageSize={this.props.pageSize}\r\n                            OnChangedPage={this.OnChangedPage}\r\n                            onFollow={this.props.OnFollow}\r\n                            onUnFollow={this.props.onUnFollow}\r\n                            currentPage={this.props.currentPage}\r\n                            ToggleInProcess={this.props.ToggleInProcess}/>\r\n                            </>\r\n    }\r\n}\r\n\r\nlet StateToProps = (state) => {\r\n    return {\r\n        Users: state.UsersData.Users,\r\n        pageSize: state.UsersData.pageSize,\r\n        totalUsersCount: state.UsersData.totalUsersCount,\r\n        currentPage: state.UsersData.currentPage,\r\n        IsFetching : state.UsersData.IsFetching,\r\n        InProcess : state.UsersData.InProcess\r\n    }\r\n}\r\n\r\n/*let DispatchToProps = (dispatch) => {\r\n    return {\r\n        onFollow: (userID) => {\r\n\r\n            dispatch(follow_AC(userID))\r\n        },\r\n        onUnFollow: (userID) => {\r\n\r\n            dispatch(unfollow_AC(userID))\r\n        },\r\n        setUsers: (Users) => {\r\n            dispatch(setUsers_AC(Users))\r\n        },\r\n        SetCurrentPage: (NumberOfPage) => {\r\n            dispatch(setCurrentPage_AC(NumberOfPage))\r\n        },\r\n        SetTotalCountOfUsers: (totalCount) => {\r\n            dispatch(SetTotalCountOfUsers_AC(totalCount))\r\n        },\r\n        ToggleIsFetching: (IsFetching) => {\r\n            dispatch(IsFetchingToggle_AC(IsFetching))\r\n        }\r\n    }\r\n}*/\r\n\r\nconst UsersContainer = connect(StateToProps,\r\n    {OnFollow,onUnFollow,setUsers,SetCurrentPage,SetTotalCountOfUsers,ToggleIsFetching,ToggleInProcess})\r\n(UsersAPItoServer)\r\n\r\nexport default UsersContainer"]},"metadata":{},"sourceType":"module"}